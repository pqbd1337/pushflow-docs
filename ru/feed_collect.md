# Сбор подписок в фид

## 1. Установка Service Worker
В первую очередь, независимо от выбранного вами способа интеграции, вам нужно скачать Service Worker файл со страницы Фида и его загрузить его в корневую директорию вашего веб сервера, на котором вы планируете производить сбор подписок. 


## 2. Выбор способа интеграции
### Интеграция Javascript скрипта 
Подойдет для интеграции в действующий веб-сайт. Нужно скопировать сгенерированный код и вставить его в ```<head></head>``` тэг вашей веб-старницы, где вы собираетесь собирать подписку. В таком случае, сгенерируемый скрипт должен быть обернут в ```<script></script>``` тэг (см. ниже)

#### Настройки {docsify-ignore}
- ***Обернуть код в ```<script></script>```*** — оборачивает генерируемый код в ```<script></script>``` тэг. Необходимо убрать данный чекбокс в том случае, если вы вставляете генерируемый код или в уже действующий JS-код обернутый в ```<script></script>```, либо если вставляете в отдельный файл с расширением ```.js```
- ***Спрашивать подписку при загрузке страницы*** — запрос подписки будет производится через 2 сек, после того, как страница будет загружена.

#### Запуск скрипт {docsify-ignore}
Если вы хотите запускать скрипт по какому-либо действию, например по клику на какую либо кнопку, то после интеграции скрипта, нужно вызывать JS-функцию ```pushflowSubscription()```, после чего у пользователя появится окно запроса пуш-подписки.

Например, если вы хотите вызвать окно подписки по клику на кнопку, то можно добавить вызов функции на ```onclick``` эвент, например так:
``` 
<div onclick="pushflowSubscription()">Subscribe</div>
```

или же, если вы интегрируете в уже существующий JS-код, то вызов функции может выглядеть так:
```
function cta() {
  <!-- Some code goes here -->
  pushflowSubscription();
}
```




### Готовые HTML-шаблоны
Просто скачайте шаблон и разместите у себя на веб-сервере